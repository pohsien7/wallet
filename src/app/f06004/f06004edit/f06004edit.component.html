<div class="container">
  <h2 mat-dialog-title>流程VS欄位設定-編輯</h2>

  <form class="mat-dialog-content" (ngSubmit)="submit()" #formControl="ngForm">
    <div class="form">
      <mat-form-field appearance="fill">
        <mat-label>業務別</mat-label>
        <mat-select [(ngModel)]="BusTypeValue" name="BusTypeValue">
          <mat-option *ngFor="let option of BusType" [value]="option.value">
            {{option.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>步驟別</mat-label>
        <mat-select [(ngModel)]="RuleStepValue" name="RuleStepValue">
          <mat-option *ngFor="let option of RuleStep" [value]="option.value">
            {{option.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>策略代碼</mat-label>
        <mat-select [(ngModel)]="PolicyIdValue" name="PolicyIdValue">
          <mat-option *ngFor="let option of PolicyId" [value]="option.value">
            {{option.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>允許搜尋不到</mat-label>
        <mat-select [(ngModel)]="SearchFlagVal" name="SearchFlagVal">
          <mat-option *ngFor="let option of YnOption" [value]="option.value">
            {{option.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field appearance="fill">
        <mat-label>欄位代碼</mat-label>
        <input matInput [(ngModel)]="ColumnIdValue" name="ColumnIdValue">
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>寫入表格</mat-label>
        <input matInput [(ngModel)]="TableIdValue" name="TableIdValue">
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>寫入欄位</mat-label>
        <input matInput [(ngModel)]="FieldIdValue" name="FieldIdValue">
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>執行動作</mat-label>
        <mat-select [(ngModel)]="PolicyAction" name="PolicyAction">
          <mat-option *ngFor="let option of Action" [value]="option.value">
            {{option.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form">
      <mat-form-field color="accent">
        <textarea matInput #input class="form-control" placeholder="WHERE條件" [(ngModel)]="Conditionwhere" name="Conditionwhere" required ></textarea>
        <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
      </mat-form-field>
    </div>

    <div mat-dialog-actions>
      <button mat-button [type]="submit" [disabled]="!formControl.valid" [mat-dialog-close]="1" (click)="stopEdit()">Save</button>
      <button mat-button (click)="onNoClick()" tabindex="-1">Cancel</button>
    </div>
  </form>
</div>


