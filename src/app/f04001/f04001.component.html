<div class="container">
  <th class="f04_th">開立記名錢包(法人,憑證)查詢</th>

  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="f04_div">
      <button type="submit" mat-raised-button color="primary">查詢</button>
      <button type="clear" mat-raised-button color="primary">清除</button>
    </div>

    <table>
      <tr>
        <td>
          <mat-form-field color="accent">
            <input matInput #input class="form-control" placeholder="錢包顯示名稱" formControlName="dn">
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </td>
        <td>
          <mat-form-field color="accent">
            <input matInput #input class="form-control" placeholder="機構名稱" formControlName="name">
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </td>
      </tr>

      <tr>
        <td>
          <mat-form-field color="accent">
            <input matInput #inputstate class="form-control" placeholder="營利事業統一編號" formControlName="ban">
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </td>
        <td>
          <mat-form-field color="accent">
            <input matInput #inputstate class="form-control" placeholder="負責人" formControlName="owner">
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </td>
      </tr>

      <tr>
        <td>
          <mat-form-field appearance="fill" class="example-form-field">
            <mat-label>建立日期</mat-label>
            <mat-date-range-input [rangePicker]="rangePicker">
              <input matStartDate placeholder="建立日期起" formControlName="createdate_start" value="">
              <input matEndDate placeholder="建立日期迄" formControlName="createdate_end">
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="rangePicker"></mat-datepicker-toggle>
            <mat-date-range-picker #rangePicker>
              <mat-date-range-picker-actions>
                <button mat-raised-button color="primary" matDateRangePickerApply (click)="setTimes()">確定</button>
                <button mat-button matDateRangePickerCancel>取消</button>
              </mat-date-range-picker-actions>
            </mat-date-range-picker>
          </mat-form-field>
        </td>
      </tr>

    </table>


    <mat-table [dataSource]="jpWalletCert" matSort (matSortChange)="changeSort($event)">
      <ng-container matColumnDef="DN">
        <mat-header-cell *matHeaderCellDef>錢包顯示名稱</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.DN }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="NAME">
        <mat-header-cell *matHeaderCellDef>機構名稱</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.NAME }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="BAN">
        <mat-header-cell *matHeaderCellDef>營利事業統一編號</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.BAN }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="OWNER">
        <mat-header-cell *matHeaderCellDef>負責人</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.OWNER }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="PHONENUMBER">
        <mat-header-cell *matHeaderCellDef>負責人電話</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.PHONENUMBER }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="MCC">
        <mat-header-cell *matHeaderCellDef>商戶類別碼</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.MCC }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="ADDRESS">
        <mat-header-cell *matHeaderCellDef>公司地址</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.ADDRESS }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="CREATEDATE">
        <mat-header-cell *matHeaderCellDef>建立日期</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.CREATEDATE }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="WALLETID">
        <mat-header-cell *matHeaderCellDef>記名錢包ID</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.WALLETID }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="USERID">
        <mat-header-cell *matHeaderCellDef>用戶錢包帳號</mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.USERID }}</mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="['DN', 'NAME', 'BAN', 'OWNER', 'PHONENUMBER', 'MCC', 'ADDRESS', 'CREATEDATE', 'WALLETID', 'USERID']"></mat-header-row>
      <mat-row *matRowDef="let ruleParmRow; columns: ['DN', 'NAME', 'BAN', 'OWNER', 'PHONENUMBER', 'MCC', 'ADDRESS', 'CREATEDATE', 'WALLETID', 'USERID']"></mat-row>
    </mat-table>

    <table>
      <tr>
        <td>
          <mat-paginator #paginator
            [length]="totalCount"
            [pageIndex]="0"
            [pageSize]="5"
            [pageSizeOptions]="[5, 10, 15, 50, 100]"
            [showFirstLastButtons]="true">
          </mat-paginator>
        </td>
      </tr>
    </table>

  </form>
</div>
